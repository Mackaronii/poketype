(this["webpackJsonppoke-type"]=this["webpackJsonppoke-type"]||[]).push([[0],{18:function(t,e,r){t.exports=r(28)},28:function(t,e,r){"use strict";r.r(e);var n=r(0),a=r.n(n),o=r(16),c=r.n(o),s=r(5),i=r(6),d=r(8),p=r(7),u=r(9),l=(r(23),r(10)),m=function(t){function e(t){var r;return Object(s.a)(this,e),(r=Object(d.a)(this,Object(p.a)(e).call(this,t))).state={wpm:"XX",acc:"XX"},r}return Object(u.a)(e,t),Object(i.a)(e,[{key:"componentWillReceiveProps",value:function(t){this.setState({wpm:t.wpm,acc:t.acc})}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("p",null,"WPM: ",this.state.wpm," | ACC: ",this.state.acc))}}]),e}(n.Component),h=function(t){function e(t){var r;return Object(s.a)(this,e),(r=Object(d.a)(this,Object(p.a)(e).call(this,t))).state={promptWords:t.promptWords,curWordIndex:t.curWordIndex,correctIndices:t.correctIndices,wrongIndices:t.wrongIndices},r}return Object(u.a)(e,t),Object(i.a)(e,[{key:"componentWillReceiveProps",value:function(t){this.setState({promptWords:t.promptWords,curWordIndex:t.curWordIndex,correctIndices:t.correctIndices,wrongIndices:t.wrongIndices})}},{key:"render",value:function(){var t=this;return a.a.createElement("div",{style:{marginBottom:"20px"}},this.state.promptWords.map((function(e,r){return a.a.createElement("p",{key:r,style:{display:"inline",fontSize:"18px",color:r===t.state.curWordIndex?"#D06AFF":t.state.correctIndices.includes(r)?"#69B23F":t.state.wrongIndices.includes(r)?"#D60000":"#000"}},e+" ")})))}}]),e}(n.Component),g=r(12),b=function(t){function e(t){var r;return Object(s.a)(this,e),(r=Object(d.a)(this,Object(p.a)(e).call(this,t))).submitHandler=function(t){t.preventDefault()},r.state={isDisabled:t.isDisbled},r.changeHandler=t.changeHandler,r}return Object(u.a)(e,t),Object(i.a)(e,[{key:"componentWillReceiveProps",value:function(t){this.setState({isDisabled:t.isDisabled})}},{key:"render",value:function(){return a.a.createElement(g.a,{onSubmit:this.submitHandler},a.a.createElement(g.a.Control,{type:"text",onChange:this.changeHandler,disabled:this.state.isDisabled}))}}]),e}(n.Component),f=r(13),W=function(t){function e(t){var r;return Object(s.a)(this,e),(r=Object(d.a)(this,Object(p.a)(e).call(this,t))).generateNewPrompt=function(){for(var t=r.state,e=t.prompts,n=t.prompt,a=Math.floor(Math.random()*e.length);n._id===e[a]._id;)a=Math.floor(Math.random()*e.length);var o=e[a];r.setState({hasStarted:!1,prompt:o,promptWords:o.fact.split(" "),curWordIndex:0,wrongIndices:[],correctIndices:[],wpm:"XX",acc:"XX",isInputDisabled:!1},(function(){r.setState({curWord:r.state.promptWords[0]})}))},r.retryPrompt=function(){r.setState({hasStarted:!1,curWord:r.state.promptWords[0],curWordIndex:0,wrongIndices:[],correctIndices:[],wpm:"XX",acc:"XX",isInputDisabled:!1})},r.changeHandler=function(t){if(!r.state.hasStarted){var e=Date.now();r.setState({hasStarted:!0,startTime:e}),console.log("Timer started: ".concat(e))}var n=t.target.value;if(r.isSpaceKeyPressed(n)){var a=n.substr(0,n.length-1);r.compareWord(a),t.target.value="",t.target.style.backgroundColor="#FFF"}else r.isLastWord(n)?(r.compareWord(n),t.target.value=""):n!==r.state.curWord.substr(0,n.length)?t.target.style.backgroundColor="#EE7878":t.target.style.backgroundColor="#FFF"},r.compareWord=function(t){r.state.curWord===t?r.state.correctIndices.push(r.state.curWordIndex):r.state.wrongIndices.push(r.state.curWordIndex),r.setState({curWordIndex:r.state.curWordIndex+1},(function(){r.state.curWordIndex<r.state.promptWords.length?r.setState({curWord:r.state.promptWords[r.state.curWordIndex]}):r.promptCompleted()}))},r.promptCompleted=function(){var t=Date.now();console.log("Timer ended: ".concat(t));var e=(t-r.state.startTime)/1e3,n=Math.round(r.state.correctIndices.length/e*60),a=(r.state.correctIndices.length/r.state.promptWords.length*100).toFixed(2)+"%";r.setState({isInputDisabled:!0,wpm:n,acc:a})},r.isSpaceKeyPressed=function(t){return" "===t.substr(t.length-1)},r.isLastWord=function(t){return r.state.curWordIndex===r.state.promptWords.length-1&&t===r.state.curWord},r.state={hasStarted:!1,prompts:[],prompt:{},promptWords:[],curWordIndex:0,curWord:"",wrongIndices:[],correctIndices:[],wpm:"XX",acc:"XX",isInputDisabled:!1},r}return Object(u.a)(e,t),Object(i.a)(e,[{key:"componentDidMount",value:function(){var t=this;fetch("https://poketype-api.herokuapp.com/facts",{method:"get"}).then((function(t){return t.json()}),(function(t){return console.error(t)})).then((function(e){var r=e.facts;t.setState({prompts:r},(function(){return t.generateNewPrompt()}))}))}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(m,{wpm:this.state.wpm,acc:this.state.acc}),a.a.createElement(l.a,{style:{backgroundColor:"#ECECEC",borderRadius:"10px",padding:"30px",textAlign:"left"}},a.a.createElement(h,{promptWords:this.state.promptWords,curWordIndex:this.state.curWordIndex,correctIndices:this.state.correctIndices,wrongIndices:this.state.wrongIndices}),a.a.createElement(b,{changeHandler:this.changeHandler,isDisabled:this.state.isInputDisabled}),a.a.createElement(f.a,{variant:"primary",onClick:this.generateNewPrompt,style:{marginTop:"50px"}},"Give me another Pok\xe9Fact!"),a.a.createElement(f.a,{variant:"outline-dark",onClick:this.retryPrompt,style:{marginTop:"50px",marginLeft:"20px"}},"Retry")))}}]),e}(n.Component),I=function(t){function e(){return Object(s.a)(this,e),Object(d.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){return a.a.createElement(l.a,{style:{paddingTop:"30px",paddingBottom:"30px",textAlign:"center",fontFamily:"Verdana"}},a.a.createElement("h4",{style:{marginBottom:"50px"}},"Pok\xe9Type"),a.a.createElement(W,null))}}]),e}(a.a.Component);c.a.render(a.a.createElement(I,null),document.getElementById("app"))}},[[18,1,2]]]);
//# sourceMappingURL=main.3a5822f7.chunk.js.map